---
title: "Section 2.2 Quiz"
output: html_notebook
---

## Loading Libraries

```{r}
library(tidyverse)
library(dslabs)
```

## Question 1
You have created data frames `tab1` and `tab2` of state population and election data, similar to our module videos: 

```{r}
states = c('Alabama', 'Alaska', 'Arizona', 'Delaware', 'District of Columbia')
populations = c(4779736, 710231, 6392017, 897934, 601723)
tab1 = bind_cols(state = states, population = populations)
tab1
```

```{r}
states = c('Alabama', 'Alaska', 'Arizona', 'California', 'Colorado', 'Connecticut')
electoral_votes = c(9, 3, 11, 55, 9, 7)

tab2 <- bind_cols(state = states, electoral_votes = electoral_votes)
tab2
```

What are the dimensions of the table dat, created by the following command? 

```{r}
dat <- left_join(tab1, tab2, by = "state")
dim(dat)
```


## Question 2
We are still using the tab1 and tab2 tables shown in question 1. What join command would create a new table “dat” with three rows and two columns? 

```{r}
join_dat <- semi_join(tab1, tab2, by = "state") 
dim(join_dat)
```

## Question 4
We have two simple tables, shown below, with columns x and y: 

```{r}
x <- c('a', 'b')
y <- c('a', 'a')

# Creating df1
df1 <- bind_cols(x = x, y = y)
df1
```

```{r}
# Creating df2
df2 <- bind_cols(x = y, y = x)
df2
```

Which command would result in the following table?
```
final
 x     y    
 b     a   
```

```{r}
final <- setdiff(df1, df2)
final
```

## Introduction to Questions 5-7
Install and load the **Lahman** library. This library contains a variety of datasets related to US professional baseball. We will use this library for the next few questions and will discuss it more extensively in the Regression course. For now, focus on wrangling the data rather than understanding the statistics.

The Batting data frame contains the offensive statistics for all baseball players over several seasons.  Filter this data frame to define top as the top 10 home run (HR) hitters in 2016:

```{r}
library(Lahman)
top <- Batting %>% 
  filter(yearID == 2016) %>%
  arrange(desc(HR)) %>%    # arrange by descending HR count
  slice(1:10)    # take entries 1-10
top %>% as_tibble()
```


Also Inspect the People data frame, which has demographic information for all players:

```{r}
People %>% as_tibble()
```


### Question 5 
Use the correct `join` or `bind` function to create a combined table of the names and statistics of the top 10 home run (HR) hitters for 2016. This table should have the player ID, first name, last name, and number of HR for the top 10 players. Name this data frame `top_names`.

Identify the `join` or `bind` that fills the blank in this code to create the correct table:

```{r}
top_names <- top %>% left_join(People) %>%
    select(playerID, nameFirst, nameLast, HR)
top_names
```

### Question 6

Inspect the Salaries data frame. Filter this data frame to the 2016 salaries, then use the correct `bind` `join` function to add a salary column to the top_names data frame from the previous question. Name the new data frame top_salary. Use this code framework:

```{r}
Salaries
```


```{r}
top_salary <- Salaries %>% filter(yearID == 2016) %>%
  right_join(top_names) %>%
  select(nameFirst, nameLast, teamID, HR, salary)
top_salary
```

### Question 7

Inspect the AwardsPlayers table. Filter awards to include only the year 2016.
How many players from the top 10 home run hitters won at least one award in 2016?

```{r}
AwardsPlayers
```

```{r}
award_player_ID_2016 <- AwardsPlayers %>% 
    filter(yearID == 2016) %>%
    select(playerID)
```

```{r}
top_names_playerID <- top_names %>%
    select(playerID)
dim(intersect(top_names_playerID, award_player_ID_2016))
```

How many players won an award in 2016 but were not one of the top 10 home run hitters in 2016?

```{r}
dim(setdiff(award_player_ID_2016, top_names_playerID))
```

